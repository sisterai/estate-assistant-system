---
title: "Local Stack"
description: "Understand and run the full EstateWise local development topology."
---

## Local topology

```mermaid
flowchart LR
  FE[Frontend Next.js]
  BE[Backend Express]
  DB[(MongoDB)]
  VC[(Pinecone)]
  KG[(Neo4j optional)]
  MCP[MCP Server]
  AA[Agentic AI]
  GRPC[gRPC Market Pulse]

  FE --> BE
  BE --> DB
  BE --> VC
  BE --> KG
  MCP --> BE
  AA --> MCP
  FE --> GRPC
```

## Request lifecycle in local mode

```mermaid
sequenceDiagram
  participant U as User
  participant FE as Frontend
  participant BE as Backend
  participant Pine as Pinecone
  participant Neo as Neo4j

  U->>FE: Ask property question
  FE->>BE: POST /api/chat
  BE->>Pine: vector query
  alt Neo4j enabled
    BE->>Neo: graph enrichment
    Neo-->>BE: graph context
  end
  Pine-->>BE: candidates
  BE-->>FE: response + views
  FE-->>U: render answer
```

## Service-by-service start commands

```bash
# root convenience
npm run dev

# backend only
npm run backend

# frontend only
npm run frontend
```

```bash
# MCP
cd mcp && npm run dev

# Agentic AI
cd agentic-ai && npm run dev "find 3-bed homes under 600k"

# gRPC
cd grpc && npm run dev

# Deployment control API and UI
cd deployment-control && npm run dev
cd deployment-control && npm run dev:ui
```

## Practical startup order

1. Database and vector/graph dependencies (MongoDB, Pinecone, optional Neo4j)
2. Backend API
3. Frontend
4. Optional services (MCP, Agentic AI, gRPC, deployment-control)

## Dependency check order

```mermaid
flowchart TD
  A[Check env vars] --> B[Check MongoDB]
  B --> C[Check Pinecone index]
  C --> D[Optional Neo4j]
  D --> E[Start backend]
  E --> F[Start frontend]
  F --> G[Start optional services]
```

<Tip>
  For graph routes (`/api/graph/*`) to return meaningful data, Neo4j must be
  enabled and ingested.
</Tip>
